{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nexport class MomentFormComponent {\n  constructor() {\n    this.onSubmit = new EventEmitter();\n    this.momentData = null;\n  }\n  ngOnInit() {\n    if (this.momentData) {\n      console.log(this.momentData);\n      this.momentForm = new FormGroup({\n        id: new FormControl(this.momentData.id),\n        title: new FormControl(this.momentData.title, [Validators.required]),\n        description: new FormControl(this.momentData.description, [Validators.required]),\n        image: new FormControl('')\n      });\n    } else {\n      this.momentForm = new FormGroup({\n        id: new FormControl(''),\n        title: new FormControl('', [Validators.required]),\n        description: new FormControl('', [Validators.required]),\n        image: new FormControl('')\n      });\n    }\n  }\n  get title() {\n    return this.momentForm.get('title');\n  }\n  get description() {\n    return this.momentForm.get('description');\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    this.momentForm.patchValue({\n      image: event.target.files[0]\n    });\n  }\n  submit() {\n    if (this.momentForm.invalid) {\n      return;\n    }\n    console.log(this.momentForm.value);\n    this.onSubmit.emit(this.momentForm.value);\n  }\n}\nMomentFormComponent.ɵfac = function MomentFormComponent_Factory(t) {\n  return new (t || MomentFormComponent)();\n};\nMomentFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MomentFormComponent,\n  selectors: [[\"app-moment-form\"]],\n  inputs: {\n    momentData: \"momentData\",\n    btnText: \"btnText\"\n  },\n  outputs: {\n    onSubmit: \"onSubmit\"\n  },\n  decls: 8,\n  vars: 0,\n  consts: [[1, \"form-group\"], [\"for\", \"title\"], [\"type\", \"text\", \"placeholder\", \"Coloque um t\\u00EDtulo\", \"required\", \"\"], [\"for\", \"description\"], [\"placeholder\", \"O que aconteceu l\\u00E1?\", \"required\", \"\"]],\n  template: function MomentFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\")(1, \"div\", 0)(2, \"label\", 1);\n      i0.ɵɵtext(3, \"T\\u00EDtulo:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"input\", 2);\n      i0.ɵɵelementStart(5, \"label\", 3);\n      i0.ɵɵtext(6, \"Descri\\u00E7\\u00E3o:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"textarea\", 4);\n      i0.ɵɵelementEnd()();\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["EventEmitter","FormControl","FormGroup","Validators","MomentFormComponent","constructor","onSubmit","momentData","ngOnInit","console","log","momentForm","id","title","required","description","image","get","onFileSelected","event","file","target","files","patchValue","submit","invalid","value","emit","selectors","inputs","btnText","outputs","decls","vars","consts","template","MomentFormComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement"],"sources":["/home/priscila/Documentos/project-moments/moments/src/app/components/moment-form/moment-form.component.ts","/home/priscila/Documentos/project-moments/moments/src/app/components/moment-form/moment-form.component.html"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Moment } from 'src/app/Moment';\n\n@Component({\n  selector: 'app-moment-form',\n  templateUrl: './moment-form.component.html',\n  styleUrls: ['./moment-form.component.css'],\n})\nexport class MomentFormComponent implements OnInit {\n  @Output() onSubmit = new EventEmitter<Moment>();\n  @Input() momentData: Moment | null = null;\n  @Input() btnText!: string;\n\n  image?: File;\n\n  momentForm!: FormGroup;\n\n  constructor() {}\n\n  ngOnInit(): void {\n    if (this.momentData) {\n      console.log(this.momentData);\n      this.momentForm = new FormGroup({\n        id: new FormControl(this.momentData.id),\n        title: new FormControl(this.momentData.title, [Validators.required]),\n        description: new FormControl(this.momentData.description, [\n          Validators.required,\n        ]),\n        image: new FormControl(''),\n      });\n    } else {\n      this.momentForm = new FormGroup({\n        id: new FormControl(''),\n        title: new FormControl('', [Validators.required]),\n        description: new FormControl('', [Validators.required]),\n        image: new FormControl(''),\n      });\n    }\n  }\n\n  get title() {\n    return this.momentForm.get('title')!;\n  }\n\n  get description() {\n    return this.momentForm.get('description')!;\n  }\n\n  onFileSelected(event: any) {\n    const file: File = event.target.files[0];\n\n    this.momentForm.patchValue({ image: event.target.files[0] });\n  }\n\n  submit() {\n    if (this.momentForm.invalid) {\n      return;\n    }\n\n    console.log(this.momentForm.value);\n\n    this.onSubmit.emit(this.momentForm.value);\n  }\n}","<form>\n  <div class=\"form-group\">\n    <label for=\"title\">Título:</label>\n    <input type=\"text\" placeholder=\"Coloque um título\" required>\n    <label for=\"description\">Descrição:</label>\n    <textarea placeholder=\"O que aconteceu lá?\" required></textarea>\n  </div>\n</form>\n"],"mappings":"AAAA,SAA2CA,YAAY,QAAQ,eAAe;AAC9E,SAASC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;;AAQnE,OAAM,MAAOC,mBAAmB;EAS9BC,YAAA;IARU,KAAAC,QAAQ,GAAG,IAAIN,YAAY,EAAU;IACtC,KAAAO,UAAU,GAAkB,IAAI;EAO1B;EAEfC,QAAQA,CAAA;IACN,IAAI,IAAI,CAACD,UAAU,EAAE;MACnBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACH,UAAU,CAAC;MAC5B,IAAI,CAACI,UAAU,GAAG,IAAIT,SAAS,CAAC;QAC9BU,EAAE,EAAE,IAAIX,WAAW,CAAC,IAAI,CAACM,UAAU,CAACK,EAAE,CAAC;QACvCC,KAAK,EAAE,IAAIZ,WAAW,CAAC,IAAI,CAACM,UAAU,CAACM,KAAK,EAAE,CAACV,UAAU,CAACW,QAAQ,CAAC,CAAC;QACpEC,WAAW,EAAE,IAAId,WAAW,CAAC,IAAI,CAACM,UAAU,CAACQ,WAAW,EAAE,CACxDZ,UAAU,CAACW,QAAQ,CACpB,CAAC;QACFE,KAAK,EAAE,IAAIf,WAAW,CAAC,EAAE;OAC1B,CAAC;KACH,MAAM;MACL,IAAI,CAACU,UAAU,GAAG,IAAIT,SAAS,CAAC;QAC9BU,EAAE,EAAE,IAAIX,WAAW,CAAC,EAAE,CAAC;QACvBY,KAAK,EAAE,IAAIZ,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACW,QAAQ,CAAC,CAAC;QACjDC,WAAW,EAAE,IAAId,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACW,QAAQ,CAAC,CAAC;QACvDE,KAAK,EAAE,IAAIf,WAAW,CAAC,EAAE;OAC1B,CAAC;;EAEN;EAEA,IAAIY,KAAKA,CAAA;IACP,OAAO,IAAI,CAACF,UAAU,CAACM,GAAG,CAAC,OAAO,CAAE;EACtC;EAEA,IAAIF,WAAWA,CAAA;IACb,OAAO,IAAI,CAACJ,UAAU,CAACM,GAAG,CAAC,aAAa,CAAE;EAC5C;EAEAC,cAAcA,CAACC,KAAU;IACvB,MAAMC,IAAI,GAASD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAExC,IAAI,CAACX,UAAU,CAACY,UAAU,CAAC;MAAEP,KAAK,EAAEG,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC;IAAC,CAAE,CAAC;EAC9D;EAEAE,MAAMA,CAAA;IACJ,IAAI,IAAI,CAACb,UAAU,CAACc,OAAO,EAAE;MAC3B;;IAGFhB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,UAAU,CAACe,KAAK,CAAC;IAElC,IAAI,CAACpB,QAAQ,CAACqB,IAAI,CAAC,IAAI,CAAChB,UAAU,CAACe,KAAK,CAAC;EAC3C;;AAtDWtB,mBAAmB,C;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB,C;QAAnBA,mBAAmB;EAAAwB,SAAA;EAAAC,MAAA;IAAAtB,UAAA;IAAAuB,OAAA;EAAA;EAAAC,OAAA;IAAAzB,QAAA;EAAA;EAAA0B,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,6BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCThCE,EAAA,CAAAC,cAAA,WAAM;MAEiBD,EAAA,CAAAE,MAAA,mBAAO;MAAAF,EAAA,CAAAG,YAAA,EAAQ;MAClCH,EAAA,CAAAI,SAAA,eAA4D;MAC5DJ,EAAA,CAAAC,cAAA,eAAyB;MAAAD,EAAA,CAAAE,MAAA,2BAAU;MAAAF,EAAA,CAAAG,YAAA,EAAQ;MAC3CH,EAAA,CAAAI,SAAA,kBAAgE;MAClEJ,EAAA,CAAAG,YAAA,EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}