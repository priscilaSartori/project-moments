{"ast":null,"code":"import _asyncToGenerator from \"/home/priscila/Documentos/project-moments/moments/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/moment.service\";\nimport * as i2 from \"src/app/services/messages.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../components/moment-form/moment-form.component\";\nexport class NewMomentComponent {\n  constructor(momentService, messageService, router) {\n    this.momentService = momentService;\n    this.messageService = messageService;\n    this.router = router;\n    this.btnText = 'Compartilhar!';\n  }\n  ngOnInit() {}\n  createHandler(moment) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const formData = new FormData();\n      formData.append(\"title\", moment.title);\n      formData.append(\"description\", moment.description);\n      if (moment.image) {\n        formData.append(\"image\", moment.image);\n      }\n      yield _this.momentService.createMoment(formData).subscribe();\n      _this.messageService.add('Momento adicionado com sucesso');\n      _this.router.navigate(\"/\");\n    })();\n  }\n}\nNewMomentComponent.ɵfac = function NewMomentComponent_Factory(t) {\n  return new (t || NewMomentComponent)(i0.ɵɵdirectiveInject(i1.MomentService), i0.ɵɵdirectiveInject(i2.MessagesService), i0.ɵɵdirectiveInject(i3.Router));\n};\nNewMomentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NewMomentComponent,\n  selectors: [[\"app-new-moment\"]],\n  decls: 6,\n  vars: 1,\n  consts: [[3, \"btnText\", \"onSubmit\"]],\n  template: function NewMomentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Compartilhe o seu \");\n      i0.ɵɵelementStart(2, \"span\");\n      i0.ɵɵtext(3, \"momento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \"!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"app-moment-form\", 0);\n      i0.ɵɵlistener(\"onSubmit\", function NewMomentComponent_Template_app_moment_form_onSubmit_5_listener($event) {\n        return ctx.createHandler($event);\n      });\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"btnText\", ctx.btnText);\n    }\n  },\n  dependencies: [i4.MomentFormComponent],\n  styles: [\"h2[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 1em;\\n  font-size: 2.2em;\\n}\\n\\nh2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  color: #dec129;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbmV3LW1vbWVudC9uZXctbW9tZW50LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEIiLCJzb3VyY2VzQ29udGVudCI6WyJoMiB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMWVtO1xuICBmb250LXNpemU6IDIuMmVtO1xufVxuXG5oMiBzcGFuIHtcbiAgY29sb3I6ICNkZWMxMjk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["NewMomentComponent","constructor","momentService","messageService","router","btnText","ngOnInit","createHandler","moment","_this","_asyncToGenerator","formData","FormData","append","title","description","image","createMoment","subscribe","add","navigate","i0","ɵɵdirectiveInject","i1","MomentService","i2","MessagesService","i3","Router","selectors","decls","vars","consts","template","NewMomentComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","NewMomentComponent_Template_app_moment_form_onSubmit_5_listener","$event","ɵɵadvance","ɵɵproperty"],"sources":["/home/priscila/Documentos/project-moments/moments/src/app/pages/new-moment/new-moment.component.ts","/home/priscila/Documentos/project-moments/moments/src/app/pages/new-moment/new-moment.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Moment } from 'src/app/interface/Moment';\nimport { MessagesService } from 'src/app/services/messages.service';\nimport { MomentService } from 'src/app/services/moment.service';\n@Component({\n  selector: 'app-new-moment',\n  templateUrl: './new-moment.component.html',\n  styleUrls: ['./new-moment.component.css'],\n})\nexport class NewMomentComponent implements OnInit {\n  btnText: string = 'Compartilhar!';\n\n  constructor(\n    private momentService: MomentService,\n    private messageService: MessagesService,\n    private router: Router\n    ) {}\n\n  ngOnInit(): void {}\n\n  async createHandler(moment: Moment) {\n    const formData = new FormData()\n\n    formData.append(\"title\", moment.title)\n    formData.append(\"description\", moment.description)\n\n    if(moment.image) {\n      formData.append(\"image\", moment.image)\n    }\n    await this.momentService.createMoment(formData).subscribe();\n    this.messageService.add('Momento adicionado com sucesso');\n    this.router.navigate(\"/\");\n  }\n}","<h2>Compartilhe o seu <span>momento</span>!</h2>\n<app-moment-form\n  [btnText]='btnText'\n  (onSubmit)=\"createHandler($event)\"\n></app-moment-form>"],"mappings":";;;;;;AAUA,OAAM,MAAOA,kBAAkB;EAG7BC,YACUC,aAA4B,EAC5BC,cAA+B,EAC/BC,MAAc;IAFd,KAAAF,aAAa,GAAbA,aAAa;IACb,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,MAAM,GAANA,MAAM;IALhB,KAAAC,OAAO,GAAW,eAAe;EAM5B;EAELC,QAAQA,CAAA,GAAU;EAEZC,aAAaA,CAACC,MAAc;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MAChC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;MAE/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,MAAM,CAACM,KAAK,CAAC;MACtCH,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEL,MAAM,CAACO,WAAW,CAAC;MAElD,IAAGP,MAAM,CAACQ,KAAK,EAAE;QACfL,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,MAAM,CAACQ,KAAK,CAAC;;MAExC,MAAMP,KAAI,CAACP,aAAa,CAACe,YAAY,CAACN,QAAQ,CAAC,CAACO,SAAS,EAAE;MAC3DT,KAAI,CAACN,cAAc,CAACgB,GAAG,CAAC,gCAAgC,CAAC;MACzDV,KAAI,CAACL,MAAM,CAACgB,QAAQ,CAAC,GAAG,CAAC;IAAC;EAC5B;;AAvBWpB,kBAAkB,C;mBAAlBA,kBAAkB,EAAAqB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,aAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,eAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAK,EAAA,CAAAC,MAAA;AAAA;AAAlB5B,kBAAkB,C;QAAlBA,kBAAkB;EAAA6B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCV/Bd,EAAA,CAAAgB,cAAA,SAAI;MAAAhB,EAAA,CAAAiB,MAAA,yBAAkB;MAAAjB,EAAA,CAAAgB,cAAA,WAAM;MAAAhB,EAAA,CAAAiB,MAAA,cAAO;MAAAjB,EAAA,CAAAkB,YAAA,EAAO;MAAAlB,EAAA,CAAAiB,MAAA,QAAC;MAAAjB,EAAA,CAAAkB,YAAA,EAAK;MAChDlB,EAAA,CAAAgB,cAAA,yBAGC;MADChB,EAAA,CAAAmB,UAAA,sBAAAC,gEAAAC,MAAA;QAAA,OAAYN,GAAA,CAAA7B,aAAA,CAAAmC,MAAA,CAAqB;MAAA,EAAC;MACnCrB,EAAA,CAAAkB,YAAA,EAAkB;;;MAFjBlB,EAAA,CAAAsB,SAAA,GAAmB;MAAnBtB,EAAA,CAAAuB,UAAA,YAAAR,GAAA,CAAA/B,OAAA,CAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}