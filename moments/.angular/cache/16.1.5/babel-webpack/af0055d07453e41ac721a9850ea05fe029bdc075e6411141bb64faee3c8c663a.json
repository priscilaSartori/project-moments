{"ast":null,"code":"import _asyncToGenerator from \"/home/priscila/Documentos/project-moments/moments/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let NewMomentComponent = class NewMomentComponent {\n  constructor(momentService, router, messagesService) {\n    this.momentService = momentService;\n    this.router = router;\n    this.messagesService = messagesService;\n    this.btnText = 'Compartilhar!';\n  }\n  ngOnInit() {}\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    this.image = file;\n  }\n  buildForm() {}\n  createHandler(moment) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const formData = new FormData();\n      formData.append('title', moment.title);\n      formData.append('description', moment.description);\n      if (moment.image) {\n        formData.append('image', moment.image);\n      }\n      yield _this.momentService.createMoment(formData).subscribe();\n      _this.messagesService.add(`Momento adicionado com sucesso!`);\n      _this.router.navigate(['/']);\n    })();\n  }\n};\nNewMomentComponent = __decorate([Component({\n  selector: 'app-new-moment',\n  templateUrl: './new-moment.component.html',\n  styleUrls: ['./new-moment.component.css']\n})], NewMomentComponent);","map":{"version":3,"names":["Component","NewMomentComponent","constructor","momentService","router","messagesService","btnText","ngOnInit","onFileSelected","event","file","target","files","image","buildForm","createHandler","moment","_this","_asyncToGenerator","formData","FormData","append","title","description","createMoment","subscribe","add","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/priscila/Documentos/project-moments/moments/src/app/pages/new-moment/new-moment.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\nimport { MomentService } from 'src/app/services/moment/moment.service';\n\nimport { Router } from '@angular/router';\n\nimport { MessagesService } from 'src/app/services/messages/messages.service';\nimport { Moment } from 'src/app/Moment';\n\n@Component({\n  selector: 'app-new-moment',\n  templateUrl: './new-moment.component.html',\n  styleUrls: ['./new-moment.component.css'],\n})\nexport class NewMomentComponent implements OnInit {\n  btnText: string = 'Compartilhar!';\n  image?: File;\n\n  constructor(\n    private momentService: MomentService,\n    private router: Router,\n    private messagesService: MessagesService\n  ) {}\n\n  ngOnInit(): void {}\n\n  onFileSelected(event: any) {\n    const file: File = event.target.files[0];\n\n    this.image = file;\n  }\n\n  buildForm() {}\n\n  async createHandler(moment: Moment) {\n    const formData = new FormData();\n\n    formData.append('title', moment.title);\n    formData.append('description', moment.description);\n\n    if (moment.image) {\n      formData.append('image', moment.image);\n    }\n\n    await this.momentService.createMoment(formData).subscribe();\n\n    this.messagesService.add(`Momento adicionado com sucesso!`);\n\n    this.router.navigate(['/']);\n  }\n}"],"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAe1C,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAI7BC,YACUC,aAA4B,EAC5BC,MAAc,EACdC,eAAgC;IAFhC,KAAAF,aAAa,GAAbA,aAAa;IACb,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,eAAe,GAAfA,eAAe;IANzB,KAAAC,OAAO,GAAW,eAAe;EAO9B;EAEHC,QAAQA,CAAA,GAAU;EAElBC,cAAcA,CAACC,KAAU;IACvB,MAAMC,IAAI,GAASD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAExC,IAAI,CAACC,KAAK,GAAGH,IAAI;EACnB;EAEAI,SAASA,CAAA,GAAI;EAEPC,aAAaA,CAACC,MAAc;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MAChC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;MAE/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,MAAM,CAACM,KAAK,CAAC;MACtCH,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEL,MAAM,CAACO,WAAW,CAAC;MAElD,IAAIP,MAAM,CAACH,KAAK,EAAE;QAChBM,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,MAAM,CAACH,KAAK,CAAC;;MAGxC,MAAMI,KAAI,CAACd,aAAa,CAACqB,YAAY,CAACL,QAAQ,CAAC,CAACM,SAAS,EAAE;MAE3DR,KAAI,CAACZ,eAAe,CAACqB,GAAG,CAAC,iCAAiC,CAAC;MAE3DT,KAAI,CAACb,MAAM,CAACuB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;IAAC;EAC9B;CACD;AApCY1B,kBAAkB,GAAA2B,UAAA,EAL9B5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACW9B,kBAAkB,CAoC9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}